(()=>{var q,y,ut,Bt,A,at,ct,Y,Rt,$={},ft=[],Wt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Q=Array.isArray;function N(e,_){for(var n in _)e[n]=_[n];return e}function ht(e){var _=e.parentNode;_&&_.removeChild(e)}function g(e,_,n){var r,l,i,a={};for(i in _)i=="key"?r=_[i]:i=="ref"?l=_[i]:a[i]=_[i];if(arguments.length>2&&(a.children=arguments.length>3?q.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)a[i]===void 0&&(a[i]=e.defaultProps[i]);return B(e,a,r,l,null)}function B(e,_,n,r,l){var i={type:e,props:_,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:l??++ut};return l==null&&y.vnode!=null&&y.vnode(i),i}function F(e){return e.children}function R(e,_){this.props=e,this.context=_}function j(e,_){if(_==null)return e.__?j(e.__,e.__.__k.indexOf(e)+1):null;for(var n;_<e.__k.length;_++)if((n=e.__k[_])!=null&&n.__e!=null)return n.__d||n.__e;return typeof e.type=="function"?j(e):null}function dt(e){var _,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,_=0;_<e.__k.length;_++)if((n=e.__k[_])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return dt(e)}}function vt(e){(!e.__d&&(e.__d=!0)&&A.push(e)&&!W.__r++||at!==y.debounceRendering)&&((at=y.debounceRendering)||ct)(W)}function W(){var e,_,n,r,l,i,a,u,c;for(A.sort(Y);e=A.shift();)e.__d&&(_=A.length,r=void 0,l=void 0,i=void 0,u=(a=(n=e).__v).__e,(c=n.__P)&&(r=[],l=[],(i=N({},a)).__v=a.__v+1,Z(c,a,i,n.__n,c.ownerSVGElement!==void 0,a.__h!=null?[u]:null,r,u??j(a),a.__h,l),St(r,a,l),a.__e!=u&&dt(a)),A.length>_&&A.sort(Y));W.__r=0}function pt(e,_,n,r,l,i,a,u,c,b,p){var o,d,h,f,m,P,S,k,C,x=0,w=r&&r.__k||ft,L=w.length,T=L,D=_.length;for(n.__k=[],o=0;o<D;o++)(f=n.__k[o]=(f=_[o])==null||typeof f=="boolean"||typeof f=="function"?null:typeof f=="string"||typeof f=="number"||typeof f=="bigint"?B(null,f,null,null,f):Q(f)?B(F,{children:f},null,null,null):f.__b>0?B(f.type,f.props,f.key,f.ref?f.ref:null,f.__v):f)!=null?(f.__=n,f.__b=n.__b+1,(k=Kt(f,w,S=o+x,T))===-1?h=$:(h=w[k]||$,w[k]=void 0,T--),Z(e,f,h,l,i,a,u,c,b,p),m=f.__e,(d=f.ref)&&h.ref!=d&&(h.ref&&tt(h.ref,null,f),p.push(d,f.__c||m,f)),m!=null&&(P==null&&(P=m),(C=h===$||h.__v===null)?k==-1&&x--:k!==S&&(k===S+1?x++:k>S?T>D-S?x+=k-S:x--:x=k<S&&k==S-1?k-S:0),S=o+x,typeof f.type!="function"||k===S&&h.__k!==f.__k?typeof f.type=="function"||k===S&&!C?f.__d!==void 0?(c=f.__d,f.__d=void 0):c=m.nextSibling:c=gt(e,m,c):c=mt(f,c,e),typeof n.type=="function"&&(n.__d=c))):(h=w[o])&&h.key==null&&h.__e&&(h.__e==c&&(h.__=r,c=j(h)),et(h,h,!1),w[o]=null);for(n.__e=P,o=L;o--;)w[o]!=null&&(typeof n.type=="function"&&w[o].__e!=null&&w[o].__e==n.__d&&(n.__d=w[o].__e.nextSibling),et(w[o],w[o]))}function mt(e,_,n){for(var r,l=e.__k,i=0;l&&i<l.length;i++)(r=l[i])&&(r.__=e,_=typeof r.type=="function"?mt(r,_,n):gt(n,r.__e,_));return _}function gt(e,_,n){return n==null||n.parentNode!==e?e.insertBefore(_,null):_==n&&_.parentNode!=null||e.insertBefore(_,n),_.nextSibling}function Kt(e,_,n,r){var l=e.key,i=e.type,a=n-1,u=n+1,c=_[n];if(c===null||c&&l==c.key&&i===c.type)return n;if(r>(c!=null?1:0))for(;a>=0||u<_.length;){if(a>=0){if((c=_[a])&&l==c.key&&i===c.type)return a;a--}if(u<_.length){if((c=_[u])&&l==c.key&&i===c.type)return u;u++}}return-1}function Gt(e,_,n,r,l){var i;for(i in n)i==="children"||i==="key"||i in _||K(e,i,null,n[i],r);for(i in _)l&&typeof _[i]!="function"||i==="children"||i==="key"||i==="value"||i==="checked"||n[i]===_[i]||K(e,i,_[i],n[i],r)}function yt(e,_,n){_[0]==="-"?e.setProperty(_,n??""):e[_]=n==null?"":typeof n!="number"||Wt.test(_)?n:n+"px"}function K(e,_,n,r,l){var i;t:if(_==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(_ in r)n&&_ in n||yt(e.style,_,"");if(n)for(_ in n)r&&n[_]===r[_]||yt(e.style,_,n[_])}else if(_[0]==="o"&&_[1]==="n")i=_!==(_=_.replace(/(PointerCapture)$|Capture$/,"$1")),_=_.toLowerCase()in e?_.toLowerCase().slice(2):_.slice(2),e.l||(e.l={}),e.l[_+i]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(_,i?kt:bt,i)):e.removeEventListener(_,i?kt:bt,i);else if(_!=="dangerouslySetInnerHTML"){if(l)_=_.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(_!=="width"&&_!=="height"&&_!=="href"&&_!=="list"&&_!=="form"&&_!=="tabIndex"&&_!=="download"&&_!=="rowSpan"&&_!=="colSpan"&&_!=="role"&&_ in e)try{e[_]=n??"";break t}catch{}typeof n=="function"||(n==null||n===!1&&_[4]!=="-"?e.removeAttribute(_):e.setAttribute(_,n))}}function bt(e){var _=this.l[e.type+!1];if(e.t){if(e.t<=_.u)return}else e.t=Date.now();return _(y.event?y.event(e):e)}function kt(e){return this.l[e.type+!0](y.event?y.event(e):e)}function Z(e,_,n,r,l,i,a,u,c,b){var p,o,d,h,f,m,P,S,k,C,x,w,L,T,D,H=_.type;if(_.constructor!==void 0)return null;n.__h!=null&&(c=n.__h,u=_.__e=n.__e,_.__h=null,i=[u]),(p=y.__b)&&p(_);t:if(typeof H=="function")try{if(S=_.props,k=(p=H.contextType)&&r[p.__c],C=p?k?k.props.value:p.__:r,n.__c?P=(o=_.__c=n.__c).__=o.__E:("prototype"in H&&H.prototype.render?_.__c=o=new H(S,C):(_.__c=o=new R(S,C),o.constructor=H,o.render=Vt),k&&k.sub(o),o.props=S,o.state||(o.state={}),o.context=C,o.__n=r,d=o.__d=!0,o.__h=[],o._sb=[]),o.__s==null&&(o.__s=o.state),H.getDerivedStateFromProps!=null&&(o.__s==o.state&&(o.__s=N({},o.__s)),N(o.__s,H.getDerivedStateFromProps(S,o.__s))),h=o.props,f=o.state,o.__v=_,d)H.getDerivedStateFromProps==null&&o.componentWillMount!=null&&o.componentWillMount(),o.componentDidMount!=null&&o.__h.push(o.componentDidMount);else{if(H.getDerivedStateFromProps==null&&S!==h&&o.componentWillReceiveProps!=null&&o.componentWillReceiveProps(S,C),!o.__e&&(o.shouldComponentUpdate!=null&&o.shouldComponentUpdate(S,o.__s,C)===!1||_.__v===n.__v)){for(_.__v!==n.__v&&(o.props=S,o.state=o.__s,o.__d=!1),_.__e=n.__e,_.__k=n.__k,_.__k.forEach(function(U){U&&(U.__=_)}),x=0;x<o._sb.length;x++)o.__h.push(o._sb[x]);o._sb=[],o.__h.length&&a.push(o);break t}o.componentWillUpdate!=null&&o.componentWillUpdate(S,o.__s,C),o.componentDidUpdate!=null&&o.__h.push(function(){o.componentDidUpdate(h,f,m)})}if(o.context=C,o.props=S,o.__P=e,o.__e=!1,w=y.__r,L=0,"prototype"in H&&H.prototype.render){for(o.state=o.__s,o.__d=!1,w&&w(_),p=o.render(o.props,o.state,o.context),T=0;T<o._sb.length;T++)o.__h.push(o._sb[T]);o._sb=[]}else do o.__d=!1,w&&w(_),p=o.render(o.props,o.state,o.context),o.state=o.__s;while(o.__d&&++L<25);o.state=o.__s,o.getChildContext!=null&&(r=N(N({},r),o.getChildContext())),d||o.getSnapshotBeforeUpdate==null||(m=o.getSnapshotBeforeUpdate(h,f)),pt(e,Q(D=p!=null&&p.type===F&&p.key==null?p.props.children:p)?D:[D],_,n,r,l,i,a,u,c,b),o.base=_.__e,_.__h=null,o.__h.length&&a.push(o),P&&(o.__E=o.__=null)}catch(U){_.__v=null,(c||i!=null)&&(_.__e=u,_.__h=!!c,i[i.indexOf(u)]=null),y.__e(U,_,n)}else i==null&&_.__v===n.__v?(_.__k=n.__k,_.__e=n.__e):_.__e=Ot(n.__e,_,n,r,l,i,a,c,b);(p=y.diffed)&&p(_)}function St(e,_,n){for(var r=0;r<n.length;r++)tt(n[r],n[++r],n[++r]);y.__c&&y.__c(_,e),e.some(function(l){try{e=l.__h,l.__h=[],e.some(function(i){i.call(l)})}catch(i){y.__e(i,l.__v)}})}function Ot(e,_,n,r,l,i,a,u,c){var b,p,o,d=n.props,h=_.props,f=_.type,m=0;if(f==="svg"&&(l=!0),i!=null){for(;m<i.length;m++)if((b=i[m])&&"setAttribute"in b==!!f&&(f?b.localName===f:b.nodeType===3)){e=b,i[m]=null;break}}if(e==null){if(f===null)return document.createTextNode(h);e=l?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,h.is&&h),i=null,u=!1}if(f===null)d===h||u&&e.data===h||(e.data=h);else{if(i=i&&q.call(e.childNodes),p=(d=n.props||$).dangerouslySetInnerHTML,o=h.dangerouslySetInnerHTML,!u){if(i!=null)for(d={},m=0;m<e.attributes.length;m++)d[e.attributes[m].name]=e.attributes[m].value;(o||p)&&(o&&(p&&o.__html==p.__html||o.__html===e.innerHTML)||(e.innerHTML=o&&o.__html||""))}if(Gt(e,h,d,l,u),o)_.__k=[];else if(pt(e,Q(m=_.props.children)?m:[m],_,n,r,l&&f!=="foreignObject",i,a,i?i[0]:n.__k&&j(n,0),u,c),i!=null)for(m=i.length;m--;)i[m]!=null&&ht(i[m]);u||("value"in h&&(m=h.value)!==void 0&&(m!==e.value||f==="progress"&&!m||f==="option"&&m!==d.value)&&K(e,"value",m,d.value,!1),"checked"in h&&(m=h.checked)!==void 0&&m!==e.checked&&K(e,"checked",m,d.checked,!1))}return e}function tt(e,_,n){try{typeof e=="function"?e(_):e.current=_}catch(r){y.__e(r,n)}}function et(e,_,n){var r,l;if(y.unmount&&y.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||tt(r,null,_)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){y.__e(i,_)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(l=0;l<r.length;l++)r[l]&&et(r[l],_,n||typeof e.type!="function");n||e.__e==null||ht(e.__e),e.__=e.__e=e.__d=void 0}function Vt(e,_,n){return this.constructor(e,n)}function zt(e,_,n){var r,l,i,a;y.__&&y.__(e,_),l=(r=typeof n=="function")?null:n&&n.__k||_.__k,i=[],a=[],Z(_,e=(!r&&n||_).__k=g(F,null,[e]),l||$,$,_.ownerSVGElement!==void 0,!r&&n?[n]:l?null:_.firstChild?q.call(_.childNodes):null,i,!r&&n?n:l?l.__e:_.firstChild,r,a),St(i,e,a)}q=ft.slice,y={__e:function(e,_,n,r){for(var l,i,a;_=_.__;)if((l=_.__c)&&!l.__)try{if((i=l.constructor)&&i.getDerivedStateFromError!=null&&(l.setState(i.getDerivedStateFromError(e)),a=l.__d),l.componentDidCatch!=null&&(l.componentDidCatch(e,r||{}),a=l.__d),a)return l.__E=l}catch(u){e=u}throw e}},ut=0,Bt=function(e){return e!=null&&e.constructor===void 0},R.prototype.setState=function(e,_){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=N({},this.state),typeof e=="function"&&(e=e(N({},n),this.props)),e&&N(n,e),e!=null&&this.__v&&(_&&this._sb.push(_),vt(this))},R.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),vt(this))},R.prototype.render=F,A=[],ct=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Y=function(e,_){return e.__v.__b-_.__v.__b},W.__r=0,Rt=0;var G,M,_t,wt,nt=0,Mt=[],O=[],Ct=y.__b,Pt=y.__r,xt=y.diffed,Ht=y.__c,Et=y.unmount;function Tt(e,_){y.__h&&y.__h(M,e,nt||_),nt=0;var n=M.__H||(M.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:O}),n.__[e]}function I(e){return nt=1,Xt(Dt,e)}function Xt(e,_,n){var r=Tt(G++,2);if(r.t=e,!r.__c&&(r.__=[n?n(_):Dt(void 0,_),function(u){var c=r.__N?r.__N[0]:r.__[0],b=r.t(c,u);c!==b&&(r.__N=[b,r.__[1]],r.__c.setState({}))}],r.__c=M,!M.u)){var l=function(u,c,b){if(!r.__c.__H)return!0;var p=r.__c.__H.__.filter(function(d){return d.__c});if(p.every(function(d){return!d.__N}))return!i||i.call(this,u,c,b);var o=!1;return p.forEach(function(d){if(d.__N){var h=d.__[0];d.__=d.__N,d.__N=void 0,h!==d.__[0]&&(o=!0)}}),!(!o&&r.__c.props===u)&&(!i||i.call(this,u,c,b))};M.u=!0;var i=M.shouldComponentUpdate,a=M.componentWillUpdate;M.componentWillUpdate=function(u,c,b){if(this.__e){var p=i;i=void 0,l(u,c,b),i=p}a&&a.call(this,u,c,b)},M.shouldComponentUpdate=l}return r.__N||r.__}function Lt(e,_){var n=Tt(G++,3);!y.__s&&Qt(n.__H,_)&&(n.__=e,n.i=_,M.__H.__h.push(n))}function Jt(){for(var e;e=Mt.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(V),e.__H.__h.forEach(rt),e.__H.__h=[]}catch(_){e.__H.__h=[],y.__e(_,e.__v)}}y.__b=function(e){M=null,Ct&&Ct(e)},y.__r=function(e){Pt&&Pt(e),G=0;var _=(M=e.__c).__H;_&&(_t===M?(_.__h=[],M.__h=[],_.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=O,n.__N=n.i=void 0})):(_.__h.forEach(V),_.__h.forEach(rt),_.__h=[],G=0)),_t=M},y.diffed=function(e){xt&&xt(e);var _=e.__c;_&&_.__H&&(_.__H.__h.length&&(Mt.push(_)!==1&&wt===y.requestAnimationFrame||((wt=y.requestAnimationFrame)||Yt)(Jt)),_.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==O&&(n.__=n.__V),n.i=void 0,n.__V=O})),_t=M=null},y.__c=function(e,_){_.some(function(n){try{n.__h.forEach(V),n.__h=n.__h.filter(function(r){return!r.__||rt(r)})}catch(r){_.some(function(l){l.__h&&(l.__h=[])}),_=[],y.__e(r,n.__v)}}),Ht&&Ht(e,_)},y.unmount=function(e){Et&&Et(e);var _,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{V(r)}catch(l){_=l}}),n.__H=void 0,_&&y.__e(_,n.__v))};var Nt=typeof requestAnimationFrame=="function";function Yt(e){var _,n=function(){clearTimeout(r),Nt&&cancelAnimationFrame(_),setTimeout(e)},r=setTimeout(n,100);Nt&&(_=requestAnimationFrame(n))}function V(e){var _=M,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),M=_}function rt(e){var _=M;e.__c=e.__(),M=_}function Qt(e,_){return!e||e.length!==_.length||_.some(function(n,r){return n!==e[r]})}function Dt(e,_){return typeof _=="function"?_(e):_}var Zt=class{constructor(e,_=0){this.int32=this.int32_first,this.hi=_>>>0,this.lo=e>>>0}step(){let e=this.hi>>>31;const _=this.hi<<1|this.lo>>>31,n=this.lo<<1|e;e=this.hi<<31;const r=this.hi>>>1|this.lo<<31,l=this.lo>>>1|e;this.hi=r^(this.hi|_),this.lo=l^(this.lo|n)}pair(){let e=0,_=0;for(let n=0;n<16;++n)e=e<<2|(this.hi&65536)>>>15|this.hi&1,_=_<<2|(this.hi&16777216)>>>23|(this.hi&256)>>>8,this.step();return[e,_]}int32_first(){let[e,_]=this.pair();return this.next=_,this.int32=this.int32_second,e}int32_second(){return this.int32=this.int32_first,this.next}random(){const[l,i]=this.pair();return((l&67108863)*134217728+(i&134217727))/9007199254740992}uniform(e){const _=-1>>>Math.clz32(e-1|1);let n=0;do n=this.int32()&_;while(n>=e);return n}};function ot(e){return .0031308>=e?12.92*e:1.055*Math.pow(e,.4166666666666667)-.055}function it(e){return .04045<e?Math.pow((e+.055)/1.055,2.4):e/12.92}function te(e,_,n){let r=.4122214708*e+.5363325363*_+.0514459929*n,l=.2119034982*e+.6806995451*_+.1073969566*n,i=.0883024619*e+.2817188376*_+.6299787005*n,a=Math.cbrt(r),u=Math.cbrt(l),c=Math.cbrt(i);return[.2104542553*a+.793617785*u-.0040720468*c,1.9779984951*a-2.428592205*u+.4505937099*c,.0259040371*a+.7827717662*u-.808675766*c]}function z(e,_,n){let r=e+.3963377774*_+.2158037573*n,l=e-.1055613458*_-.0638541728*n,i=e-.0894841775*_-1.291485548*n,a=r*r*r,u=l*l*l,c=i*i*i;return[4.0767416621*a-3.3077115913*u+.2309699292*c,-1.2684380046*a+2.6097574011*u-.3413193965*c,-.0041960863*a-.7034186147*u+1.707614701*c]}function At(e){const r=1.170873786407767;return .5*(r*e-.206+Math.sqrt((r*e-.206)*(r*e-.206)+4*.03*r*e))}function lt(e){return(e*e+.206*e)/(1.170873786407767*(e+.03))}function ee(e,_){let n,r,l,i,a,u,c,b;-1.88170328*e-.80936493*_>1?(n=1.19086277,r=1.76576728,l=.59662641,i=.75515197,a=.56771245,u=4.0767416621,c=-3.3077115913,b=.2309699292):1.81444104*e-1.19445276*_>1?(n=.73956515,r=-.45954404,l=.08285427,i=.1254107,a=.14503204,u=-1.2684380046,c=2.6097574011,b=-.3413193965):(n=1.35733652,r=-.00915799,l=-1.1513021,i=-.50559606,a=.00692167,u=-.0041960863,c=-.7034186147,b=1.707614701);let p=n+r*e+l*_+i*e*e+a*e*_,o=.3963377774*e+.2158037573*_,d=-.1055613458*e-.0638541728*_,h=-.0894841775*e-1.291485548*_;{let f=1+p*o,m=1+p*d,P=1+p*h,S=f*f*f,k=m*m*m,C=P*P*P,x=3*o*f*f,w=3*d*m*m,L=3*h*P*P,T=6*o*o*f,D=6*d*d*m,H=6*h*h*P,U=u*S+c*k+b*C,st=u*x+c*w+b*L,de=u*T+c*D+b*H;p=p-U*st/(st*st-.5*U*de)}return p}function _e(e,_){let n=ee(e,_),r=z(1,n*e,n*_),l=Math.cbrt(1/Math.max(Math.max(r[0],r[1]),r[2])),i=l*n;return[l,i]}function It(e,_,n=null){n||(n=_e(e,_));let r=n[0],l=n[1];return[l/r,l/(1-r)]}function ne(e,_,n){let r=Math.cos(2*Math.PI*e),l=Math.sin(2*Math.PI*e),i=It(r,l),a=i[0],u=.5,c=i[1],b=1-u/a,p=1-_*u/(u+c-c*b*_),o=_*c*u/(u+c-c*b*_),d=n*p,h=n*o,f=lt(p),m=o*f/p,P=lt(d);h=h*P/d,d=P;let S=z(f,r*m,l*m),k=Math.cbrt(1/Math.max(S[0],S[1],S[2],0));d=d*k,h=h*k;let C=z(d,h*r,h*l);return[255*ot(C[0]),255*ot(C[1]),255*ot(C[2])]}function re(e,_,n){let r=te(it(e/255),it(_/255),it(n/255)),l=Math.sqrt(r[1]*r[1]+r[2]*r[2]),i=r[1]/l,a=r[2]/l,u=r[0],c=.5+.5*Math.atan2(-r[2],-r[1])/Math.PI,b=It(i,a),p=b[0],o=.5,d=b[1],h=1-o/p;t=d/(l+u*d);let f=t*u,m=t*l;return L_vt=lt(f),C_vt=m*L_vt/f,rgb_scale=z(L_vt,i*C_vt,a*C_vt),scale_L=Math.cbrt(1/Math.max(rgb_scale[0],rgb_scale[1],rgb_scale[2],0)),u=u/scale_L,l=l/scale_L,l=l*At(u)/u,u=At(u),v=u/f,s=(o+d)*m/(d*o+d*h*m),[c,s,v]}var Ut=7;function oe(e){return g("div",{style:e.color?`background:rgb(${e.color.join(",")})`:""})}function E(e){return g("div",{class:`square ${e.status} ${e.focused?"focused":""}`},isNaN(e.number)?"":e.number.toString(16))}function $t(e,_){if(e==_)return"green";if(e<_)return"yellow";if(e>_)return"blue"}function ie(e){if(e.input){const _=e.input.length;return g(F,null,g("div",{class:"square"},"#"),g(E,{number:e.input[0],status:"empty",focused:_==0}),g(E,{number:e.input[1],status:"empty",focused:_==1}),g(E,{number:e.input[2],status:"empty",focused:_==2}),g(E,{number:e.input[3],status:"empty",focused:_==3}),g(E,{number:e.input[4],status:"empty",focused:_==4}),g(E,{number:e.input[5],status:"empty",focused:_==5}))}else{const _=e.guess||[],n=_.length>0?_.map((r,l)=>$t(r,e.target[l])):["empty","empty","empty"];return g(F,null,g(oe,{color:_}),g(E,{number:Math.floor(_[0]/16),status:n[0]}),g(E,{number:_[0]%16,status:n[0]}),g(E,{number:Math.floor(_[1]/16),status:n[1]}),g(E,{number:_[1]%16,status:n[1]}),g(E,{number:Math.floor(_[2]/16),status:n[2]}),g(E,{number:_[2]%16,status:n[2]}))}}function le(e){return g("div",{class:"grid"},g("div",{class:"header h-red"},"Red"),g("div",{class:"header h-green"},"Green"),g("div",{class:"header h-blue"},"Blue"),Array(Ut).fill().map((_,n)=>g(ie,{guess:e.guesses[n],target:e.target,input:n==e.guesses.length?e.input:null})))}var se={blue:String.fromCodePoint(128998),yellow:String.fromCodePoint(129e3),green:String.fromCodePoint(129001)};function Ft(e){const[_,n]=I(()=>!1);Lt(()=>{_&&setTimeout(()=>n(!1),3e3)},[_]);function r(){const l=e.result=="win"?`I solved it in ${e.guesses.length} guesses!`:"I failed :(",i=e.target,a=e.guesses.map(c=>c.map((b,p)=>se[$t(b,i[p])]).join("")).join(`
`),u=`Rougelike ${e.date} ${String.fromCodePoint(128997)}
${l}
${a}
https://alpha123.github.io/uma-tools/rougelike`;navigator.clipboard.writeText(u),n(!0)}return _?g("span",null,"\u2713 Copied"):g("a",{href:"#",id:"copyresult",onClick:r},"Copy to clipboard")}function ue(e){if(e.result=="win")return g("div",{class:"result correct"},g("div",null,"Correct!"),!e.isPractice&&g(Ft,{result:"win",guesses:e.guesses,target:e.target,date:e.date}),g("a",{href:"#",onClick:e.practiceCb},e.isPractice?"Go again":"Practice"));{const[_,n,r]=e.target,l="#"+(1<<24|_<<16|n<<8|r).toString(16).slice(1);return g("div",{class:"result failed"},g("div",null,":("),g("div",{id:"trueanswer"},g("span",null,"Answer: ",l)),!e.isPractice&&g(Ft,{result:"lose",guesses:e.guesses,target:e.target,date:e.date}),g("a",{href:"#",onClick:e.practiceCb},e.isPractice?"Go again":"Practice"))}}var jt=new Date,ae=jt.getTime()+jt.getTimezoneOffset()*6e4,X=new Date(ae+-6*36e5),ce=X.toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"-"),J=new Zt(Math.imul(X.getFullYear(),524287)^Math.imul(X.getMonth(),6700417)^Math.imul(X.getDay(),131071));for(let e=0;e<1e3;++e)J.step();function fe([e,_,n],[r,l,i]){return Math.sqrt(Math.pow(e-r,2)+Math.pow(_-l,2)+Math.pow(n-i,2))}function qt(e,_,n,r){let l,i,a,u=!0,c=0;for(;u&&c<100;){l=(e.lo+J.uniform(e.hi-e.lo))/360,i=(_.lo+J.uniform(_.hi-_.lo))/100,a=(n.lo+J.uniform(n.hi-n.lo))/100;let d=r,h=0;for(u=!1;d&&h<1;){if(fe([l,i,a],re(...d.head))<.3/(h+1)){u=!0;break}d=d.tail,++h}++c}const[b,p,o]=ne(l,i,a);return[Math.round(b),Math.round(p),Math.round(o)]}function he(e){const _={lo:22,hi:32},n={lo:75,hi:100},r={lo:55,hi:100},[l,i]=I(()=>null),[a,u]=I(()=>qt(_,n,r,l)),[c,b]=I(()=>!1),[p,o]=I(()=>[]),[d,h]=I(()=>[]),[f,m]=I(()=>!1);Lt(()=>document.getElementById("outer").focus(),[a]);function P(k){if(d!=null){if(k.key=="Backspace")h(d.slice(0,-1));else if(/^[a-fA-F0-9]$/.test(k.key)&&!k.ctrlKey&&!k.altKey&&!k.metaKey){const C=parseInt(k.key,16);if(d.length==5){const x=[d[0]*16+d[1],d[2]*16+d[3],d[4]*16+C];o(p.concat([x])),h([]),x.every((w,L)=>w==a[L])?(b("win"),h(null)):p.length==Ut-1&&(b("lose"),h(null))}else h(d.concat([C]))}}}function S(){const k={head:a,tail:l};i(k),u(qt(_,n,r,k)),b(!1),o([]),h([]),m(!0)}return g("div",{id:"outer",tabindex:"0",onKeyDown:P},g("div",{id:"wrapper"},g("div",{class:"rougeboy",style:`background:rgb(${a.join(",")})`}),g(le,{guesses:p,target:a,input:d}),c&&g(ue,{result:c,guesses:p,target:a,date:ce,isPractice:f,practiceCb:S})))}zt(g(he,null),document.getElementById("app"))})();
